"use strict";(self.webpackChunkchoice_champ=self.webpackChunkchoice_champ||[]).push([[610],{3999:function(e,s,r){r.d(s,{Z:function(){return a}});var n=r(9439),c=r(2791),t=r(184),a=function(e){var s=(0,c.useState)(!1),r=(0,n.Z)(s,2),a=r[0],o=r[1];return(0,t.jsx)(c.Fragment,{children:a?(0,t.jsx)("button",{type:e.type,disabled:e.disabled,className:e.className,style:e.backgroundColor?{animation:"button-press .75s",backgroundColor:"".concat(e.backgroundColor)}:{animation:"button-press .75s",backgroundColor:"#dd9b14"},children:e.children}):(0,t.jsx)("button",{type:e.type,disabled:e.disabled,onClick:function(){e.onClick&&(o(!0),setTimeout((function(){o(!1),e.onClick()}),1e3))},className:e.className,style:e.backgroundColor?{backgroundColor:"".concat(e.backgroundColor)}:null,children:e.children})})}},2569:function(e,s,r){r.r(s),r.d(s,{default:function(){return u}});var n=r(1413),c=r(9439),t=r(2791),a=r(1134),o=r(7689),i=(r.p,r(3999)),d=r(3108),l=r(184),u=function(e){var s=(0,t.useContext)(d.V),r=(0,o.s0)(),u=(0,t.useState)(!0),h=(0,c.Z)(u,2),p=h[0],m=h[1],g=(0,t.useState)(""),j=(0,c.Z)(g,2),f=j[0],x=j[1],b=(0,a.cI)(),C=b.register,k=b.handleSubmit,w=b.setValue,v=b.formState.errors,y=function(){m((function(e){return!e})),x(""),w("usernameRequired",""),w("passwordRequired",""),v.usernameRequired=!1,v.passwordRequired=!1};return(0,l.jsx)("div",{className:"center",children:(0,l.jsxs)("form",{onSubmit:k((function(e){var n;p?fetch("https://choice-champ-backend.vercel.app/user/signIn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.usernameRequired,password:e.passwordRequired})}).then((function(e){return n=e.status,e.json()})).then((function(e){200===n?(s.login(),s.userIdSetter(e.userId),localStorage.setItem("userId",e.userId),r("/collections")):x(e.errMsg)})).catch((function(e){console.log(e)})):fetch("https://choice-champ-backend.vercel.app/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.usernameRequired,password:e.passwordRequired})}).then((function(e){return n=e.status,e.json()})).then((function(e){200===n?(s.login(),s.userIdSetter(e.userId),localStorage.setItem("userId",e.userId),r("/welcome/info")):x(e.errMsg)})).catch((function(e){console.log(e)}))})),children:[(0,l.jsx)("img",{src:"https://cdn.glitch.global/ebf12691-ad1e-4a83-81e2-641b9d7c5f64/Choice%20Champ%20Title.svg?v=1727966632300",alt:"Choice Champ Logo",id:"logo"}),(0,l.jsx)("div",{className:"seperator"}),p&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:"Welcome Back"}),(0,l.jsx)("h4",{children:"Login to account"})]}),!p&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:"Welcome!"}),(0,l.jsx)("h4",{children:"Create account"})]}),(0,l.jsx)("input",(0,n.Z)({id:"username",placeholder:"Username"},C("usernameRequired",{required:!0,minLength:5,maxLength:20}))),v.usernameRequired&&(0,l.jsx)("p",{className:"error",children:"A username of at least 5 characters is required"}),(0,l.jsx)("input",(0,n.Z)({type:"password",id:"password",placeholder:"Password"},C("passwordRequired",{required:!0,minLength:5}))),v.passwordRequired&&(0,l.jsx)("p",{className:"error",children:"A password of at lease 5 characters is required"}),p&&(0,l.jsx)(i.Z,{type:"submit",children:"Login"}),!p&&(0,l.jsx)(i.Z,{type:"submit",children:"Create"}),(0,l.jsx)("p",{className:"auth-error-msg",children:f}),(0,l.jsxs)("div",{className:"switch",children:[p&&(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"Don't have an account?"}),(0,l.jsx)("p",{onClick:y,className:"switch-link",children:"Create Account"}),(0,l.jsx)("p",{onClick:function(){r("/party/joinParty")},className:"switch-link",children:"Join Code"})]}),!p&&(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"Already have an account?"}),(0,l.jsx)("p",{onClick:y,className:"switch-link",children:"Login"})]})]})]})})}}}]);
//# sourceMappingURL=610.2cafbe2b.chunk.js.map