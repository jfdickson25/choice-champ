"use strict";(self.webpackChunkchoice_champ=self.webpackChunkchoice_champ||[]).push([[132],{3132:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var s=a(3433),c=a(9439),i=a(2791),n=a(7689),o=a(3108),l=a(5382),r=a(9005),d=a.n(r),m=a(4297),h=a(9770),p=a(184),v=function(){var e=(0,i.useContext)(o.V),t=(0,n.s0)(),a=(0,n.UO)().type,r=(0,n.UO)().collectionId,v=(0,n.UO)().itemId,f=window.location.search,u=new URLSearchParams(f).get("filter"),x=(0,i.useState)({}),j=(0,c.Z)(x,2),g=j[0],b=j[1],N=(0,i.useState)({}),k=(0,c.Z)(N,2),y=k[0],w=k[1],C=(0,i.useState)(!1),S=(0,c.Z)(C,2),Z=S[0],I=S[1],T=(0,i.useState)(!1),F=(0,c.Z)(T,2),_=F[0],P=F[1],E=(0,i.useState)([]),O=(0,c.Z)(E,2),B=O[0],L=O[1],U=(0,i.useState)(!1),D=(0,c.Z)(U,2),H=D[0],M=D[1],R=(0,i.useState)(!0),G=(0,c.Z)(R,2),z=G[0],A=G[1],J=(0,i.useState)("#FCB016"),V=(0,c.Z)(J,2),q=V[0],K=V[1];(0,i.useEffect)((function(){e.showFooterHandler(!0),"movie"===a?K("#FCB016"):"tv"===a?K("#FF4D4D"):"game"===a?K("#2482C5"):"board"===a&&K("#45B859"),I(!0),M(!0),fetch("https://choice-champ-backend-181ffd005e9f.herokuapp.com/media/getInfo/".concat(a,"/").concat(v),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"board"===a&&(e.media.details.overview=(new(d().Converter)).makeHtml(e.media.details.overview)),"game"===a&&(e.media.details.title=e.media.details.name,e.media.details.name=void 0),b(e.media.details),"board"===a&&"game"===a||w(e.media.providers),"game"===a&&w({platforms:e.media.providers.platforms}),I(!1)})),fetch("https://choice-champ-backend-181ffd005e9f.herokuapp.com/collections/collectionList/".concat(a,"/").concat(v,"/").concat(e.userId),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){L((0,s.Z)(e.collections)),M(!1)}))}),[]);return(0,p.jsxs)("div",{className:"content",children:[_?(0,p.jsx)("img",{src:"https://cdn.glitch.global/ebf12691-ad1e-4a83-81e2-641b9d7c5f64/back-button-active.png?v=1702137193420",alt:"Back symbol",className:"top-left clickable",style:{animation:"button-press .75s"}}):(0,p.jsx)("img",{src:"https://cdn.glitch.global/ebf12691-ad1e-4a83-81e2-641b9d7c5f64/back-button.png?v=1702137134668",alt:"Back symbol",className:"top-left clickable",onClick:function(){P(!0),setTimeout((function(){P(!1),t(z?u?"/collections/".concat(a,"/").concat(r,"?hash=").concat(v,"&filter=").concat(u):"/collections/".concat(a,"/").concat(r,"?hash=").concat(v):"/collections/".concat(a,"/").concat(r))}),1e3)}}),Z||H?(0,p.jsx)(l.Z,{color:q,type:"beat",className:"list-loading",size:20}):(0,p.jsx)(i.Fragment,{children:(0,p.jsxs)("div",{id:"content-details",children:[(0,p.jsx)("img",{className:"details-img",src:g.poster}),(0,p.jsx)("div",{className:"details-title color-".concat(a),children:g.title}),"game"!==a&&(0,p.jsxs)("div",{className:"details-section",children:[(0,p.jsxs)("span",{className:"details-section-title color-".concat(a),children:["board"===a&&" Play Time:","movie"===a&&" Runtime:","tv"===a&&" Seasons:"]}),g.runtime>0?g.runtime:"N/A",("movie"===a||"board"===a)&&" minute","tv"===a&&" season",g.runtime>1&&"s"]}),"board"===a&&(0,p.jsxs)(i.Fragment,{children:[(0,p.jsxs)("div",{className:"details-section",children:[(0,p.jsx)("span",{className:"details-section-title color-".concat(a),children:"Min Players:"})," ",g.minPlayers]}),(0,p.jsxs)("div",{className:"details-section",children:[(0,p.jsx)("span",{className:"details-section-title color-".concat(a),children:"Max Players:"})," ",g.maxPlayers]})]}),("movie"===a||"tv"===a)&&(0,p.jsx)(i.Fragment,{children:(0,p.jsxs)("div",{className:"details-section",children:[(0,p.jsx)("span",{className:"details-section-title color-".concat(a),children:"Rating: "}),g.rating," / 10"]})}),(0,p.jsxs)("div",{className:"details-section",children:[(0,p.jsx)("div",{className:"details-section-title color-".concat(a),children:"Overview:"}),(0,p.jsx)("div",{className:"details-overview",dangerouslySetInnerHTML:{__html:g.overview}})]}),("movie"===a||"tv"===a)&&(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)("div",{className:"details-provider-title color-".concat(a),children:"Stream:"}),y.stream?(0,p.jsx)("div",{className:"details-provider-list-section",children:y.stream.map((function(e){return(0,p.jsx)("img",{className:"provider-img-section",src:"https://image.tmdb.org/t/p/w500".concat(e.logo_path),alt:e.provider_name},e.provider_name)}))}):(0,p.jsx)("div",{className:"providers-not-available",children:"Not available to stream"})]}),"game"===a&&(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)("div",{className:"details-provider-title",children:"Platforms"}),(0,p.jsx)("div",{className:"details-platforms",children:y.platforms&&y.platforms.map((function(e,t){return(0,p.jsx)("span",{children:t===y.platforms.length-1?e.name:e.name+", "},e.name)}))})]}),(0,p.jsxs)("div",{className:"collections-list",children:[(0,p.jsx)("div",{className:"collections-list-title color-".concat(a),children:"Collections:"}),B.map((function(e,t){return(0,p.jsxs)("div",{className:"collection-item",onClick:function(){var c,i,n=(0,s.Z)(B);e.exists?(n[t].exists=!1,n[t].collectionId===r&&A(!1),c=n[t].collectionId,i=n[t].itemId,fetch("https://choice-champ-backend-181ffd005e9f.herokuapp.com/collections/items/".concat(c,"/").concat(i),{method:"DELETE",headers:{"Content-Type":"application/json"}})):(n[t].exists=!0,n[t].collectionId===r&&A(!0),function(e,t){var c=v;"board"!==a&&"game"!==a&&(c=parseInt(c)),fetch("https://choice-champ-backend-181ffd005e9f.herokuapp.com/collections/items/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([{title:g.title,id:c,poster:g.poster}])}).then((function(e){return e.json()})).then((function(e){var a=(0,s.Z)(B);a[t].itemId=e.newItems[0]._id,L((0,s.Z)(a))}))}(n[t].collectionId,t)),L((0,s.Z)(n))},children:[(0,p.jsx)("div",{className:"collection-item-title",children:e.name}),(0,p.jsx)("img",{src:e.exists?h:m,className:"colleciton-item-status"})]},e._id)}))]})]})})]})}},9770:function(e,t,a){e.exports=a.p+"static/media/check.ba9d3e54bdec2de99f79.png"},4297:function(e,t,a){e.exports=a.p+"static/media/circle.004850191698b41d6112.png"}}]);
//# sourceMappingURL=132.77a51b85.chunk.js.map